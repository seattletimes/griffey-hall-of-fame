<!doctype html>
<html>
  <head>
    <title><%= json.project.title %></title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet" type="text/css" href="style.css">
    <%= t.include("partials/_head.html") %>
  </head>
  <body>

    <nav class="top-bar">
      <a class="logo" href="http://seattletimes.com">
        <img src="./assets/seattletimes.svg">
      </a>
    </nav>


    <div class="griffey-container">

      <section class="griffey-intro">

        <img src="./assets/GriffeyILLO2016web.jpg">

        <div class="stats">
          <p>22 years</p>
          <p>2,671 games</p>
          <p>2,781 hits</p>
          <p>1,836 RBI</p>
        </div>
          <p>630 home runs</p>

      </section>


      <section class="home-runs">

        <div class="title">Griffey's Home Runs by Season</div>

        <div class="legend">
          <div class="key"><div class="splotch"></div> With Mariners</div>
          
          <div class="key two"><div class="splotch two"></div> With Cincinnati Reds; Chicago White Sox</div>

        </div>
        <div class="ct-homeruns ct-series-a ct-bar ct-octave ct-series-a" id="ct-homeruns"></div>

        <div class="year">

          <a class="advance left">&lt;</a>
          
          <div class="description-container">

            <div class="year-description show" >Click here to explore some of Ken Griffey Jr.'s most memorable moments.</div>

            <% var notes = {};
            json.GriffeyStats_notes.forEach(function(item) {
              if (!notes[item.Note]) notes[item.Note] = [];
              notes[item.Note].push(item);
            });

            for (var n in notes) {

              var note = notes[n];
              note.forEach(function(item) { %>

            <div class="year-description" data-id="<%= item.id %>">

              <div class="year"><%= item.Year %></div><%= item.Note %>
            </div>


            <% })}; %>
            </div>
          <a class="advance right">&gt;</a>
        </div>

      </section>


      <section class="batting-slug">
        <div class="title">Batting Average And Slug</div>
<div class="legend">
          <div class="key"><div class="splotch"></div>Batting Average</div>
          
          <div class="key two"><div class="splotch two"></div>Slugging Percentage </div>

        </div>
        <div class="ct-averages ct-octave" id="ct-averages"></div>

      </section>

      <section class="griffey-field">
        <img class="field" src="./assets/GriffeyWEBgraphics2.jpg">
      </section>      

      <section class="si">
        <div class="title">Sports Illustrated</div>
        <div class="si-image">

          <% for (var i = 1; i < 9; i++) { %>
          <div class="si-img"><img src="./assets/covers/Griffey-SIcover<%=i%>.jpg" data-id="<%=i%>"></div>

          <% }; %>
        </div>
<% var mags = {};
          json.GriffeyStats_si.forEach(function(item) {
            if (!mags[item.id]) mags[item.id] = [];
            mags[item.id].push(item);
          }); %>
        
         <div class="si-focus show" data-id="1">

            <div class="chatter">
              
              <div class="year">1990</div>
            <img src="./assets/covers/Griffey-SIcover1.jpg">
              Griffey’s first S.I. cover is also his most iconic. The magazine calls him “Seattle’s 20-year-old wonder” and likens him to Willie Mays.
            </div>
        
          </div>

          <% for (var m = 2; m < 10; m++) {

            var mag = mags[m];
            console.log(m);
            mag.forEach(function(item) { %>

          <div class="si-focus" data-id="<%= item.id %>">

            <div class="chatter">
              
              <div class="year"><%= item.Year %></div>
            <img src="./assets/covers/Griffey-SIcover<%=item.id%>.jpg">
              <%= item.Description %>
            </div>
        
          </div>


          <% })}; %>  
   
          
      </section>


      <section class="compare">
        <div class="hr-leaders">



          <% var players = {};
          json.hr_leaders.forEach(function(item) {
            if (!players[item.Name]) players[item.Name] = [];
            players[item.Name].push(item);
          });
          %>

          <% for (var p in players) {
            var player = players[p];
            player.forEach(function(item) { %>

          <div class="leader">
            <div class="photo"> <img src="./assets/leaders/<%=item.id%>.jpg"></div>
            <div class="name"><%=item.Name%></div>
            <div class="stat"><%=item.hr%></div>
          </div>

          <% }); } %>
        </div>
        <div class="ct-comp ct-octave" id="ct-comp"></div>

      </section>

        <div class="title">Injuries</div>

      <div class="injuries">
        <div class="image">
          <img src="./assets/GriffeyCutout.jpg">

          <% var injuries = {};
          json.GriffeyStats_injuries.forEach(function(item) {
            if (!injuries[item.injury]) injuries[item.injury] = [];
            injuries[item.injury].push(item);
          }); %>

          <% for (var i in injuries) {
            var injury = injuries[i];
            injury.forEach(function(item) { %>

          <div class="icon" style="top: <%= item.top %>%; left: <%= item.left %>%;"  data-id="<%= item.injury %>"><div class="glow"></div>
            <div class="description" data-id="<%= item.injury %>"><%= item.injury %></div>
          </div>

          <% }); } %>       



        </div>
        
        <div class="played">
          <div class="title">Percent of Games Played</div>

          <div class="ct-play ct-octave" id="ct-play"></div>
        </div>
        
      </div>



      <script src="app.js" async></script>
      <% if (json.project.production) { %>
      <%= !json.project.embedded ? t.include("partials/_foot.html") : "" %>
      <%= t.include("partials/_workHere.html") %>
      <% } %>
      </body>
    </html>
